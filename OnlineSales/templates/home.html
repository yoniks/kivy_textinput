<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
<!-- CSS only -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
 <link href="{{url_for('static', filename='st_scc/Home.css')}}" rel="stylesheet">
   <link href="{{url_for('static', filename='st_scc/EmailVerify.css')}}" rel="stylesheet">

 <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
</head>
<body>


<!--style="background-color:#FFC0CB" -->
<div class="home_img">
    <div class="home_container">
<ul class="home_nav nav nav-tabs" id="myTab"   role="tablist"><!--call to target nav nav-tabs -->
  <li class="nav-item" role="presentation">
      <!--active-->
    <button class="nav-link  {{active[0]}}" id="home-tab" data-bs-toggle="tab" data-bs-target="#home-tab-pane" type="button" role="tab" aria-controls="home-tab-pane" aria-selected="true">
        Home</button>
  </li>
  <li class="nav-item" role="presentation">
    <button class="nav-link {{active[1]}}" id="sw-tab" data-bs-toggle="tab" data-bs-target="#sw-tab-pane" type="button" role="tab" aria-controls="profile-tab-pane" aria-selected="false">
        Swimwear</button>
  </li>
  <li class="nav-item" role="presentation">
    <button class="nav-link {{active[2]}}" id="dresses-tab" data-bs-toggle="tab" data-bs-target="#dresses-tab-pane" type="button" role="tab" aria-controls="contact-tab-pane" aria-selected="false">
        Dresses</button>
  </li>
  <li class="nav-item" role="presentation">
    <button class="nav-link {{active[3]}}" id="rent-tag" data-bs-toggle="tab" data-bs-target="#rent-tab-pane" type="button" role="tab" aria-controls="rent-tab-pane" aria-selected="false" >
        Rent</button>
  </li>

     <li class="nav-item" role="presentation">
    <button class="nav-link {{active[4]}}" id="login-tag" data-bs-toggle="tab" data-bs-target="#login-tab-pane" type="button" role="tab" aria-controls="login-tab-pane" aria-selected="false">
        {{is_login}}</button>
  </li>
     <li class="nav-item" role="presentation">
    <button class="nav-link {{active[5]}}" id="cart-tag" data-bs-toggle="tab" data-bs-target="#cart-tab-pane" type="button" role="tab" aria-controls="cart-tab-pane" aria-selected="false" disabled>
        Cart</button>
  </li>
</ul>

    </div> </div><!--home img-->



<div class="tab-content" style="margin-bottom:5%" id="myTabContent"><!--group target-->

    <!--index of home-->
   <!--show active-->
  <div class="tab-pane fade {{show_active[0]}}"  id="home-tab-pane" role="tabpanel" aria-labelledby="home-tab" tabindex="0">
  Home
  </div>

  <div class="tab-pane fade {{show_active[1]}}" id="sw-tab-pane" role="tabpanel" aria-labelledby="sw-tab" tabindex="0">
      this is Swimwear page

  </div><!--end swimwear-->





  <div class="tab-pane fade {{show_active[2]}}" id="dresses-tab-pane" role="tabpanel" aria-labelledby="dresses-tab" tabindex="0">
     this is Dresses page

       <div class="row row-cols-1 row-cols-md-2" style="margin:3%; ">
         {%for i in range(0, len)%}

 <div class="{{i}} card mb-3 col-md-6 col-lg-6" style="max-width: 540px; margin-right:4%; margin-left:3%">
  <div class="row g-0">
    <div  class="col-md-4">
      <img id="link_dress" src="https://res.cloudinary.com/clouster/image/upload/v1618558359/background/bg_logIn_aydneo.jpg" class="img-fluid rounded-start"  style="padding-top:2%;" >
    </div>
    <div class="col-md-8">
      <div class="card-body">
        <h5 id="name_dress" class="card-title">dress {{i}}</h5>
        <p class="card-text">This is a wider card with supporting text  This content is a little bit longer.</p>
         <p class="card-text"><small class="text-muted" id="price_dress">price: 100</small></p>






      </div>
    </div>
  </div>

   <div class="row" style="padding-top:1%; padding-bottom:1%; ">

        <div class="col-lg-2 col-md-2" id="group_size" style="margin-right:1%;">
  <div class="btn-group" >
    <button type="button" id="ToSizeDress"  class="btn btn-outline-info dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
     size
    </button>
     <ul class="dropdown-menu">
       <li class="dropdown-item size_dress">S</li>
       <li class="dropdown-item size_dress">M</li>
       <li class="dropdown-item size_dress">L</li>
     </ul>
  </div>
      </div>


      <div class="col-lg-2 col-md-2">
  <div class="btn-group">
    <button type="button" id="ToColorDress" class="btn btn-outline-info dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
    {{color_select}}
    </button>
     <ul class="dropdown-menu">
       <li class="dropdown-item color_dress" >blue</li>
       <li class="dropdown-item color_dress" >black</li>
       <li class="dropdown-item color_dress" >pink</li>
     </ul>
  </div>
      </div>

       <div class="col-lg-3 col-md-6">
  <div class="btn-group">
    <button type="button" id="ToAddDress" class="btn btn-outline-info dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
    add
    </button>
     <ul class="dropdown-menu">
       <li class="dropdown-item add_dress">+</li>
       <li class="dropdown-item less_dress">-</li>
     </ul>
  </div>
      </div>

     <div class="col-lg-3 col-md-6" hidden>
    <div id="sku_id_item"  >{{sku}}{{1234+i}}</div>
    </div>


   </div><!--row of button-- href="http://127.0.0.1:5000/adresses/add"-->


</div>
             {%endfor%}

       <div class="col-lg-2 col-md-2" style="margin:auto;">
       <button type="button" class="btn btn-info">Add To Cart</button>
       </div>
       </div>


  </div><!--end index of dresses-->

    {% extends "email_verify.html" %}

     <script>

          const  doc = {name:"" ,sku:"",price:0,size:"",colors:"",url_img:"",counter:0};
          const doc_list = [];

         let ref_to=0;
         let  select_size = document.querySelectorAll("#ToSizeDress").length;
          for(let i=0;i<select_size;i++){
            document.querySelectorAll("#ToSizeDress")[i].addEventListener("click",function(){
                console.log("index", i);
                ref_to=i;
             });
          }

         let list_size = document.querySelectorAll("li.size_dress").length;
          for(let i=0;i<list_size;i++){
             document.querySelectorAll("li.size_dress")[i].addEventListener("click",function(){
                 //3)if user want change the size ,
                // check if item kus is exists in list and if size  not eq to list than upData the object;
               // if the element html is two than the change of size  is effect both of elements
                //else if kus not exists than initialize the object


                doc.name = document.querySelectorAll("#name_dress")[ref_to].textContent;//name dress
                doc.price = document.querySelectorAll("#price_dress")[ref_to].textContent;//add price
                doc.url_img = document.querySelectorAll("#link_dress")[ref_to].src; //add link img
                doc.size = this.textContent;// from list of size
                document.querySelectorAll("#ToSizeDress")[ref_to].innerHTML=this.innerHTML;//upData
             });
          }



          //colors
          let select_color = document.querySelectorAll("#ToColorDress").length;
          for(let i=0;i<select_color;i++){
            document.querySelectorAll("#ToColorDress")[i].addEventListener("click",function(){
                ref_to=i;
             });
          }

         let list_color = document.querySelectorAll("li.color_dress").length;
          for(let i=0;i<list_color;i++){
             document.querySelectorAll("li.color_dress")[i].addEventListener("click",function(){
                   //3)if user want change the  color,
                // check if item kus is exists in list and if color  not eq to list than upData the object;
               // if the element is two than the change of size or color is effect both of elements
                //else if kus not exists than initialize the object

                document.querySelectorAll("#ToColorDress")[ref_to].innerHTML=this.innerHTML;
                doc.colors = this.textContent;
             });
          }



            // add_dress
            let counter=0;// for element of html
             let list_select_dress = document.querySelectorAll("#ToAddDress").length;
          for(let i=0;i<list_select_dress;i++){
            document.querySelectorAll("#ToAddDress")[i].addEventListener("click",function(){
                ref_to = i;
             });
          }

          let list_add_dress = document.querySelectorAll("li.add_dress").length;
          for(let i=0;i<list_add_dress;i++){
             document.querySelectorAll("li.add_dress")[i].addEventListener("click",function(){


           //if user selected the properties than add to list and counter it
           if(doc.size.length>0 && doc.colors.length>0 &&doc.name.length>0){
              doc.sku =  document.querySelectorAll("#sku_id_item")[ref_to].textContent;//uniq id of item
              doc.counter = 1;
              //{name:"" ,sku:"",price:0,size:"",colors:"",url_img:"",counter:0};
              let name = doc.name,sku=doc.sku,price=doc.price,size=doc.size,color=doc.colors,url=doc.url_img,con=doc.counter;

             doc_list.push(name+","+sku+","+price +","+size +","+ color+","+url +","+con);
             for(let ref in doc){
                delete doc[ref];// delete obj
                doc[ref] = "";
              }

              for(let ref in doc_list){
                   console.log(doc_list[ref]);//print all
                  }
              console.log("the object dress is added", doc_list.length);
                if(parseInt(document.querySelectorAll("#ToAddDress")[ref_to].textContent)>0){//if there exist order in element
                    counter=parseInt(document.querySelectorAll("#ToAddDress")[ref_to].textContent)+1;
                    document.querySelectorAll("#ToAddDress")[ref_to].innerHTML =counter;
                }else{
                document.querySelectorAll("#ToAddDress")[ref_to].innerHTML=1;
                doc.counter = 1;
                }


         }else{  //close of doc.size.length

         //1)check if item is exists in list and if size and color eq to list, if yes increase the counter and element html,
          //2)but i should add  button when user add the first
          //item to give option to add another with different size color than this button  delete the element of html
         // than i must to  see how many sku has in list to upData the element of html


         }
             });
          }

         // less item of dress
          let list_less_dress = document.querySelectorAll("li.less_dress").length;
          for(let i=0;i<list_less_dress;i++){
             document.querySelectorAll("li.less_dress")[i].addEventListener("click",function(){
               console.log("less");
             let uniq_sku = document.querySelectorAll("#sku_id_item")[ref_to].textContent;//uniq id of item
               for(let ref in doc_list){
                 //  console.log(uniq_sku+"-"+doc_list[ref]);
                   let words = doc_list[ref].split(',')
                  if(words[1]==uniq_sku){// delete object with uniq of sku
                       doc_list.splice(ref,1)// object deleted from index list and one object

                     if(parseInt(document.querySelectorAll("#ToAddDress")[ref_to].textContent) > 0){//less one in element
                        counter=parseInt(document.querySelectorAll("#ToAddDress")[ref_to].textContent)-1;
                        document.querySelectorAll("#ToAddDress")[ref_to].innerHTML =0;

                      }
                  break;
               }  }//close for and if
                for(let ref in doc_list){
                   console.log(doc_list[ref]);//print all
                  }


             });
          }// close for of less dress

      const myname='yoni';
      </script>

    <script>
    //dresses-tab
    document.querySelector("#home-tab").addEventListener("click",function(){
              if(doc_list.length==0){
                console.log("move home-tab list is empty");
                }else{
                 console.log("to move home-tab asl to save order");
                }

             });
     document.querySelector("#dresses-tab").addEventListener("click",function(){
                console.log("dresses-tab",myname);

             });
    </script>

  <div class="tab-pane fade {{show_active[3]}}" id="rent-tab-pane" role="tabpanel" aria-labelledby="rent-tab" tabindex="0">
     rent
  </div>


    <div class="tab-pane fade {{show_active[4]}}" id="login-tab-pane" role="tabpanel" aria-labelledby="login-tab" tabindex="0">
     login
  </div>


     <div class="tab-pane fade {{show_active[5]}}" id="cart-tab-pane" role="tabpanel" aria-labelledby="cart-tab" tabindex="0">
     cart
     </div>


</div><!--end group-->

 <!--end nav-->







</body>
</html>